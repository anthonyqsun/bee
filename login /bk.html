<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
body {
  min-height: 1000px;
}

svg {
  display: block;
  position: sticky;
  top: 20px;
}
    </style>
    


</head>
<body>


    <!-- <svg id="text-container" viewBox="0 0 1000 500">
        <path id="text-curve" d="M0 100s269.931 86.612 520 0c250.069-86.612 480 0 480 0" fill="none" stroke="gold"/>
        <image id="cat" x="0" y="100" xlink:href="https://i.postimg.cc/765sYFs1/bee1.png"/>
      </svg> -->
      <svg xmlns="http://www.w3.org/2000/svg" version="1.0" style="margin-right: 0%; overflow: visible;    display: flex;
      align-items: center;
      justify-content: center;">
        <path id="text-curve" d="M548 729C709.558 683.041 833.988 632.652 921 593C983.25 564.632 1043.24 534.063 1057 476C1065.26 441.167 1057.26 394.831 1024 367C984.387 333.849 917.245 333.905 880 374C842.743 414.108 851.822 476.606 877 511C917.589 566.446 1006.51 557.731 1065 552C1194.46 539.313 1295.52 474.808 1362 418" fill="none" opacity="1" stroke="#000000" stroke-linecap="butt" stroke-linejoin="round" stroke-width="10" style="width: 10%"/>
        <image id="cat" xlink:href="https://i.postimg.cc/765sYFs1/bee1.png" style="transform: rotate(-20deg)"/>

    </svg>

</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script> 

 <script>
 var path = document.querySelector('#text-curve');
var cat = document.querySelector('#cat');
var catWidth = 40;
var catHeight = 40;
let i = 0.1;

console.log(path.getTotalLength())

function updateImagePosition(offset) {
    if(offset > 0.292 && offset < 0.713){
        let degree_change = (offset-0.292)*855
        // cat.style.transform = "rotate(180deg)";
        // console.log(degree_change)
    }
  let pt = path.getPointAtLength(offset * path.getTotalLength());
  console.log(pt.y)
  cat.setAttribute("x", pt.x );
  cat.setAttribute("y", pt.y );
//   console.log(i)
//   i+=0.1;
}

// From: https://stackoverflow.com/questions/2387136/cross-browser-method-to-determine-vertical-scroll-percentage-in-javascript
function getScrollFraction() {
    var h = document.documentElement, 
        b = document.body,
        st = 'scrollTop',
        sh = 'scrollHeight';
    return (h[st]||b[st]) / ((h[sh]||b[sh]) - h.clientHeight);
}

const rotated = document.getElementById("rotated");

function onScroll() {

  updateImagePosition( getScrollFraction() );
}


updateImagePosition(0);

window.addEventListener('scroll', onScroll);


   </script>
</html>